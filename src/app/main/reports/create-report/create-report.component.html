<div class="reportContainer">
    <nz-breadcrumb>
        <nz-breadcrumb-item>
            <a [routerLink]="['/app/dashboard']">
                <i nz-icon nzType="arrow-left" nzTheme="outline"></i> Go back
            </a>
        </nz-breadcrumb-item>
    </nz-breadcrumb>

    <div class="title">Create Report</div>

    <form nz-form nzLayout="vertical" [formGroup]="reportForm" style="width: 30%; text-align: left"
        *ngIf="!showPreview">
        <!-- Email -->
        <!-- <nz-form-item>
            <nz-form-label [nzSpan]="null" nzFor="email">Email Address of Employee</nz-form-label>
            <nz-form-control [nzSpan]="null" nzErrorTip="Enter valid email address.">
                <nz-input-group nzSize="large">
                    <input type="text" nz-input nzSize="large" formControlName="email"
                        placeholder="Enter employee's email address" />
                </nz-input-group>
            </nz-form-control>
        </nz-form-item> -->

        <nz-form-item>
            <nz-form-label [nzSpan]="null" nzFor="staff">Select from staff List</nz-form-label>
            <nz-select nzPlaceHolder="Select" formControlName="staff">
                <nz-option *ngFor="let o of userList" [nzValue]="o.value" [nzLabel]="o.label"></nz-option>

            </nz-select>
        </nz-form-item>

        <nz-form-item>
            <nz-form-label [nzSpan]="null" nzFor="category">Report Category</nz-form-label>
            <nz-select nzPlaceHolder="Select" formControlName="category">
                <nz-option *ngFor="let o of reportTypeList" [nzValue]="o.value" [nzLabel]="o.label"></nz-option>
            </nz-select>
        </nz-form-item>

        <nz-form-item>
            <nz-form-label [nzSpan]="null" nzFor="reportMsg">Write a report(optional)</nz-form-label>
            <textarea nz-input formControlName="reportMsg" placeholder="Write a report(optional)"
                [nzAutosize]="{ minRows: 3, maxRows: 5 }"></textarea>
        </nz-form-item>

        <nz-form-item style="display: flex; align-items: flex-end;">
            <button nz-button nzType="primary" [disabled]="!reportForm.valid" class="btn" style="width: min-content;"
                (click)="onReportSubmit()">Submit</button>
        </nz-form-item>
    </form>

    <div class="preview" *ngIf="showPreview">
        <p class="title">Report</p>

        <div class="previewContainer">
            <div class="previewItem">
                <p class="previewTitle">Preview</p>

                <div>
                    <p>Orelan Industry Limited</p>
                    <!-- <span>{{reportForm.email.value}}</span> -->
                </div>

                <div>
                    <p>What to do to lift the suspension</p>
                    <!-- <span>{{reportForm.reportMsg.value}}</span> -->
                </div>
            </div>
        </div>

        <div style="display: flex; align-items: center; justify-content: end; width: 65%; margin-top: 10px;">
            <button nz-button nzType="default" class="backBtn" style="width: min-content;"
                (click)="onPreviewReportBack()">Back</button>
            <button nz-button nzType="primary" class="btn" style="width: min-content;"
                (click)="onPreviewReportSubmit()">Submit</button>
        </div>
    </div>
</div>